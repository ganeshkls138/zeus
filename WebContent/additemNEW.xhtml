<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui">
	
<h:head>
 <title>Zeus - Inserimento nuovo articolo</title>
 <link rel="shortcut icon" type="image/x-icon" href="#{request.contextPath}/images/favicon.ico"/>
 <link href="css/zeus.css" rel="stylesheet" type="text/css" />

</h:head>
<h:body>
	    
	     <div class="divNorth">
	    	<ui:include page="menubar.xhtml" />
	    </div>
	
		<div class="divCenter">					
					
			<h:form id="form" enctype="multipart/form-data">
				
				<div style="position:fixed; height:170px; width:1000px;left: 50%;margin-left: -500px;background:#f9fafb;top: 43px;">
					<div style="text-align:center; margin-bottom:10px;width:1000px;margin: 0 auto; height:45px">					
						<div style="float:left">
							<span style="font-size:20px; font-weight:bold;">Inserimento nuovo articolo</span>
						</div>
						
						<div style="float:right">
							<p:commandButton value="Inserisci" id="submithidden1" update="display" oncomplete="dialog.show()" />
							&nbsp;
							<p:commandButton value="Svuota i campi" action="#{additemBean.SvuotaCampi}" update="form" >  
								<f:actionListener binding="#{variantiBean.hideAll()}"/>	
							</p:commandButton>
							&nbsp;
							<p:commandButton value="Carica dati test" action="#{additemBean.caricaDatiTest()}" update="form"
										disabled="false"/>
						</div>
					</div>
					
					
					<p:panel style="padding-top:10px;padding-bottom:10px;border:0;max-width:1000px;margin: 0 auto;background:none">		
						<h:outputText value="Codice Articolo *" /> &nbsp;
						<p:inputText id="codiceArticolo" size="25" value="#{additemBean.codice_articolo}" required="true" label="Codice Articolo"/>
						&nbsp; &nbsp; &nbsp;
						
						<h:outputText value="Nome *" /> &nbsp;
						<p:inputText id="nome" value="#{additemBean.nome}" size="60" required="true" 
							label="Nome" title="Solo il nome dell'articolo, senza parole chiave o dettagli variante.">			
							<p:tooltip for="nome" showEvent="focus" hideEvent="blur" />  								
						</p:inputText>
						<br/><br/>
									
						<h:outputText value="Inserisci su: "/>&nbsp;
						<p:selectBooleanButton id="inserisci_su_gestionale" value="#{additemBean.inserisci_su_gestionale}" 
										onLabel="Zeus" offLabel="Zeus" onIcon="ui-icon-check" offIcon="ui-icon-close"/>	&nbsp;	
						<p:selectBooleanButton id="invia_ad_ebay" value="#{additemBean.invia_ad_ebay}" 
										onLabel="eBay" offLabel="eBay" onIcon="ui-icon-check" offIcon="ui-icon-close"/>	&nbsp;			
						<p:selectBooleanButton id="invia_ad_amazon" value="#{additemBean.invia_ad_amazon}" 
										onLabel="Amazon" offLabel="Amazon" onIcon="ui-icon-check" offIcon="ui-icon-close"/>	&nbsp;	
						<p:selectBooleanButton id="invia_a_yatego" value="#{additemBean.invia_a_yatego}" 
										onLabel="Yatego" offLabel="Yatego" onIcon="ui-icon-check" offIcon="ui-icon-close"/>&nbsp;
						<p:selectBooleanButton id="invia_a_gm" value="#{additemBean.invia_a_gm}" 
										onLabel="GloriaMoraldi.it" offLabel="GloriaMoraldi.it" onIcon="ui-icon-check" offIcon="ui-icon-close"/>	&nbsp;
						<p:selectBooleanButton id="invia_a_zb" value="#{additemBean.invia_a_zb}" 
										onLabel="ZeldaBomboniere.it" offLabel="ZeldaBomboniere.it" onIcon="ui-icon-check" offIcon="ui-icon-close" disabled="false"/>		
					</p:panel>
					
					<hr width="1000px"/>
				</div>
				
				<div style="height:190px"></div>
				
				<p:growl id="growl" sticky="true" showDetail="true"/>  
				
				<p:wizard id="tabViewArticolo" widgetVar="tabViewArticolo" flowListener="#{additemBean.onFlowProcess}" style="width:1000px;margin: 0 auto;" 
					nextLabel="Avanti" backLabel="Indietro" >
					
					<p:tab title="Informazioni generali" id="tabInfoGenerali">
						<ui:include page="pages/additemNEW/tabInfoGenerali.xhtml" />
					</p:tab>
					
					
					
					<p:tab title="Immagini" id="tabImmagini">
						<ui:include page="pages/additemNEW/tabImmagini.xhtml" />
					</p:tab>
					
					
					
					<p:tab title="Varianti" id="tabVarianti">
						<ui:include page="pages/additemNEW/tabVarianti.xhtml" />
					</p:tab>
				
					
					
					<p:tab title="eBay" id="tabEbay">
						<ui:include page="pages/additemNEW/tabEbay.xhtml" />
					</p:tab>
					
					
					
					<p:tab title="Amazon" id="tabAmazon">
						<ui:include page="pages/additemNEW/tabAmazon.xhtml" />
					</p:tab>
					
					
					
					<p:tab title="Yatego" id="tabYatego">
						<ui:include page="pages/additemNEW/tabYatego.xhtml" />
					</p:tab>
					
										
									
				</p:wizard>
				
				 <br/><br/>

				 	
				<p:dialog header="Riepilogo" widgetVar="dialog" showEffect="fade" id="dialogRiepilogo" styleClass="dialog" 
					hideEffect="fade" width="1000" resizable="false">
					
					<ui:include src="pages/additemNEW/riepilogo.xhtml" />
					
				</p:dialog>
				 	
					 	
				<p:dialog header="Inserimento in corso..." widgetVar="initial_dialog" showEffect="fade"
					hideEffect="fade" width="200" resizable="false">					
					<p:graphicImage  style="margin:0 auto" value="images/loading.gif"/>
				</p:dialog>		
					
				
					
					<p:dialog header="Risultato inserimento" widgetVar="final_dialog" showEffect="fade"
						hideEffect="fade" width="500" resizable="false">					
						<h:panelGrid id="final_display" columns="2" cellpadding="3"> 
							<h:outputText value="#{additemBean.risultato_inserimento_locale}" />
							<h:outputText value="" />
							
							<h:outputText value="#{additemBean.risultato_inserimento_gloriamoraldi}" />
							<a target="_blank" href="#{additemBean.linkGM}">#{additemBean.linkGM}</a>
							
							<h:outputText value="#{additemBean.risultato_inserimento_ebay}" />
							<a target="_blank" href="#{additemBean.linkEbay}">#{additemBean.linkEbay}</a>
							
							<h:outputText value="#{additemBean.risultato_inserimento_amazon}" />
							<h:outputText value="" />
							
							<h:outputText value="#{additemBean.risultato_inserimento_yatego}" />
							<h:outputText value="" />
							
							<h:outputText value="#{additemBean.risultato_inserimento_zb}" />
							<a target="_blank" href="#{additemBean.linkZb}"></a>
						</h:panelGrid>
						
						 	<p:commandButton value="Vai a lista articoli" action="#{articoloBean.aggiornaTabella}" oncomplete="window.location='articoli.xhtml'" />
							&nbsp;	
						 		
						 	<p:commandButton value="Inserisci articolo simile" action="#{additemBean.caricaDatiArticoloSimile()}" 
						 						oncomplete="window.location = 'additemNEW.xhtml'" >
								<f:setPropertyActionListener target="#{additemBean.art}" value="#{additemBean.ultimoArticolo}" />	
							</p:commandButton>		
					</p:dialog>
				
			</h:form>		
			
		</div>
                        
</h:body>
</html>
