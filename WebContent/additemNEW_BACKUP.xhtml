<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui">
	
<h:head>
 <title>Zeus - Inserimento nuovo articolo</title>
 <link href="css/zeus.css" rel="stylesheet" type="text/css" />

</h:head>
<h:body>
 	<p:layout fullPage="true" >

	    <p:layoutUnit position="north" style="border: 0;">   		    	
	    	<ui:include page="menubar.xhtml" />
	    </p:layoutUnit>
		
		<p:layoutUnit position="center" style="border: 0;width: 1200px;">						
					
			<h:form id="form" enctype="multipart/form-data">
			
				<p:panel style="text-align:center; margin-bottom:10px;border:0;max-width:1200px;margin: 0 auto;background:none">
					
					<h1>Inserimento Articolo</h1>
					
					<p:commandButton value="Inserisci" id="submithidden" update="display" oncomplete="dialog.show()" >
						<f:actionListener binding="#{variantiBean.creaVarianti()}"/>	
						<f:setPropertyActionListener target="#{additemBean.varianti}" value="#{variantiBean.varianti}" />					
					</p:commandButton>
					&nbsp;
					<p:commandButton value="Svuota i campi" action="#{additemBean.SvuotaCampi}" update="tabViewArticolo" >  
						<f:actionListener binding="#{variantiBean.hideAll()}"/>	
					</p:commandButton>
					&nbsp;
					<p:commandButton value="Carica dati test" action="#{additemBean.caricaDatiTest()}" update="tabViewArticolo"
								disabled="false"/>
				</p:panel>
				
				<p:panel style="padding-top:10px;padding-bottom:10px;border:0;max-width:1200px;margin: 0 auto;background:none">	
					<h:outputText value="Inserisci su"/>
					&nbsp;
					<p:selectBooleanButton id="inserisci_su_gestionale" value="#{additemBean.inserisci_su_gestionale}" 
									onLabel="Gestionale" offLabel="Gestionale" onIcon="ui-icon-check" offIcon="ui-icon-close"/>		
					<p:selectBooleanButton id="invia_ad_ebay" value="#{additemBean.invia_ad_ebay}" 
									onLabel="eBay" offLabel="eBay" onIcon="ui-icon-check" offIcon="ui-icon-close"/>
					<p:selectBooleanButton id="invia_ad_amazon" value="#{additemBean.invia_ad_amazon}" 
									onLabel="Amazon" offLabel="Amazon" onIcon="ui-icon-check" offIcon="ui-icon-close"/>		
					<p:selectBooleanButton id="invia_a_yatego" value="#{additemBean.invia_a_yatego}" 
									onLabel="Yatego" offLabel="Yatego" onIcon="ui-icon-check" offIcon="ui-icon-close"/>
					<p:selectBooleanButton id="invia_a_gm" value="#{additemBean.invia_a_gm}" 
									onLabel="GloriaMoraldi.it" offLabel="GloriaMoraldi.it" onIcon="ui-icon-check" offIcon="ui-icon-close"/>	
					<p:selectBooleanButton id="invia_a_zb" 
									onLabel="ZeldaBomboniere.it" offLabel="ZeldaBomboniere.it" onIcon="ui-icon-check" offIcon="ui-icon-close" disabled="true"/>		
				</p:panel>
				
				<p:tabView id="tabViewArticolo" style="width:1200px;margin: 0 auto;">
					
					<p:tab title="Informazioni generali" id="tabInfoGenerali">
						<ui:include page="pages/additemNEW/tabInfoGenerali.xhtml" />
					</p:tab>
					
					
					
					<p:tab title="Immagini" id="tabImmagini">
						<ui:include page="pages/additemNEW/tabImmagini.xhtml" />
					</p:tab>
					
					
					
					<p:tab title="Varianti" id="tabVarianti">
						<ui:include page="pages/additemNEW/tabVarianti.xhtml" />
					</p:tab>
				
					
					
					<p:tab title="eBay" id="tabEbay">
						<ui:include page="pages/additemNEW/tabEbay.xhtml" />
					</p:tab>
					
					
					
					<p:tab title="Amazon" id="tabAmazon">
						<ui:include page="pages/additemNEW/tabAmazon.xhtml" />
					</p:tab>
					
					
					
					<p:tab title="Yatego" id="tabYatego">
						<ui:include page="pages/additemNEW/tabYatego.xhtml" />
					</p:tab>
					
					
					
					<p:tab title="GloriaMoraldi.it" id="tabGM">
						<ui:include page="pages/additemNEW/tabGM.xhtml" />
					</p:tab>
					
					
					
					<p:tab title="ZeldaBomboniere.it" id="tabZB" disabled="true">
						
					</p:tab>
				
				</p:tabView>
				
				 <br/><br/>

				<p:dialog header="Riepilogo" widgetVar="dialog" showEffect="fade" id="dialogRiepilogo" styleClass="dialog" 
					hideEffect="fade" width="700" resizable="false">
					
					<ui:include src="pages/additemNEW/riepilogo.xhtml" />
					
					<p:commandButton value="Salva nel database e crea le inserzioni" id="final_submit" update="final_display" 
						 	action="#{additemBean.creaArticolo()}" onclick="initial_dialog.show()"	style="margin-top:5px"
						 	oncomplete="initial_dialog.hide();final_dialog.show()" resizable="false"/>
						 	
					 	
					<p:dialog header="Inserimento in corso..." widgetVar="initial_dialog" showEffect="fade"
						hideEffect="fade" width="200" resizable="false">					
						<p:graphicImage  style="margin:0 auto" value="images/loading.gif"/>
					</p:dialog>		
					
					
					
					
					
					<p:dialog header="Risultato inserimento" widgetVar="final_dialog" showEffect="fade"
						hideEffect="fade" width="500" resizable="false">					
						<h:panelGrid id="final_display" columns="2" cellpadding="3"> 
							<h:outputText value="#{additemBean.risultato_inserimento_locale}" />
							<h:outputText value="" />
							
							<h:outputText value="#{additemBean.risultato_inserimento_gloriamoraldi}" />
							<a target="_blank" href="#{additemBean.linkGM}">#{additemBean.linkGM}</a>
							
							<h:outputText value="#{additemBean.risultato_inserimento_ebay}" />
							<a target="_blank" href="#{additemBean.linkEbay}">#{additemBean.linkEbay}</a>
							
							<h:outputText value="#{additemBean.risultato_inserimento_amazon}" />
							<h:outputText value="" />
							
							<h:outputText value="#{additemBean.risultato_inserimento_yatego}" />
							<h:outputText value="" />
						</h:panelGrid>
						
							<p:commandButton value="OK" id="close_final_display" update="final_display" 
						 		oncomplete="final_dialog.hide();dialog.hide()" />			
					</p:dialog>
					
				</p:dialog>	

			</h:form>
			
			
			
		</p:layoutUnit>

	</p:layout>
                        
</h:body>
</html>
